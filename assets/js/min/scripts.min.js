var database=[{main:{label:"",tag:"",pos:[47.05964492335822,3.8635249999999814]},list:[{label:"",pos:[51.05849086846767,4.335707167632339]},{label:"",pos:[50.89020680248255,7.357231607393447]},{label:"",pos:[49.460358982790545,5.6850736838049025]},{label:"",pos:[50.59764549243044,7.201430793388088]},{label:"",pos:[47.768952800182696,11.049382900289245]},{label:"",pos:[48.503188751067015,5.189636201583489]},{label:"",pos:[49.59770193685734,6.794896515996643]},{label:"",pos:[51.19937971119787,10.333928124571466]},{label:"",pos:[51.75566211999001,4.527311119063101]},{label:"",pos:[51.57375194166384,6.8273391237438705]}]},{main:{label:"",pos:[57.71940581265743,95.97289999999998]},list:[{label:"",pos:[61.89186666506287,103.42642456747771]},{label:"",pos:[62.455084200692134,104.87561974490552]},{label:"",pos:[61.55568608235166,97.31129977064296]},{label:"",pos:[58.14369707603216,98.59287260737595]},{label:"",pos:[61.552797260979645,99.65454291814598]},{label:"",pos:[58.49103648401234,97.28895271423676]},{label:"",pos:[60.401327742906524,97.07875196732525]},{label:"",pos:[60.134378968144574,104.60643419118104]},{label:"",pos:[60.08222857659567,100.00816493634447]},{label:"",pos:[61.397607210043795,96.44956990327252]}]},{main:{label:"",pos:[13.951127520909008,17.22289999999998]},list:[{label:"",pos:[14.233770447375846,17.655955484309338]},{label:"",pos:[14.340469563616102,20.70310127476737]},{label:"",pos:[16.605974641594216,21.541170360590876]},{label:"",pos:[17.57952973905904,19.299464053303723]},{label:"",pos:[16.141705740460427,17.643842898198685]},{label:"",pos:[18.19582851606725,20.838713612615663]}]},{main:{label:"",pos:[-10.459723254880222,-56.60522500000002]},list:[{label:"",pos:[-10.436267365936063,-52.82179796075573]},{label:"",pos:[-9.40630357343824,-54.62774328797758]},{label:"",pos:[-7.946451729506069,-56.032113695012015]},{label:"",pos:[-8.923411191306736,-52.44003434802847]},{label:"",pos:[-8.659381554197306,-52.27265264103877]},{label:"",pos:[-7.507177902547799,-55.15657848574014]},{label:"",pos:[-6.846828805081054,-55.18786982728176]},{label:"",pos:[-6.9782822537338385,-56.431223648712724]},{label:"",pos:[-10.156628139689978,-54.0631548638176]},{label:"",pos:[-8.96570750872186,-51.82486992300894]}]},{main:{label:"",pos:[42.574118859752474,-97.38647500000002]},list:[{label:"",pos:[45.82233377224509,-96.20148461849323]},{label:"",pos:[45.65271764989478,-93.36791564301245]},{label:"",pos:[46.000419780296184,-95.47112399369016]},{label:"",pos:[43.70839260109325,-97.13698360962327]},{label:"",pos:[45.99009480931951,-91.78497649023153]},{label:"",pos:[43.4373659536875,-91.79957371108455]},{label:"",pos:[42.583564737044114,-95.08718036831067]},{label:"",pos:[43.46079930541726,-93.81435065444987]}]},{main:{label:"",pos:[70.38744411712669,-41.83960000000002]},list:[{label:"",pos:[71.35768405946278,-35.2144969596751]},{label:"",pos:[71.36740554047722,-34.1742932811924]},{label:"",pos:[74.9070525149291,-36.62788321345805]},{label:"",pos:[72.53208398304587,-39.70025850057751]},{label:"",pos:[72.96381970623595,-29.922046266456135]},{label:"",pos:[72.18557575313137,-27.340680042220402]},{label:"",pos:[74.2740148717078,-28.867069617222036]},{label:"",pos:[70.63187794880511,-28.376961480865617]},{label:"",pos:[74.90291711455602,-40.90430687203191]}]},{main:{label:"",pos:[32.570888504622005,59.41039999999998]},list:[{label:"",pos:[35.75417785359602,61.036349561817055]},{label:"",pos:[35.39081213656968,64.81766491113268]},{label:"",pos:[36.61842939691454,60.043615361927095]},{label:"",pos:[35.25702189469905,61.943957143699606]},{label:"",pos:[34.885268730323816,62.27121130193723]},{label:"",pos:[36.37799819555615,61.080065173114924]},{label:"",pos:[36.69995179903671,64.8482937734181]}]},{main:{label:"",pos:[-27.03368508387432,135.34789999999998]},list:[{label:"",pos:[-26.946898223697694,139.64256341853118]},{label:"",pos:[-25.227276178975906,138.57237865024766]},{label:"",pos:[-22.583494815847494,135.6095267385174]},{label:"",pos:[-26.91887676041895,135.86283134333766]},{label:"",pos:[-25.139418576289216,135.84114256249632]},{label:"",pos:[-23.956410271984286,139.0607658265362]},{label:"",pos:[-23.159186973625914,138.7452853420782]},{label:"",pos:[-23.297086477393318,140.45016231260485]},{label:"",pos:[-24.264182959334907,137.19106478823295]}]}],mapaq={el:{window:$(window),councillorsMapWidth:$("#js-council-map").innerWidth(),councillorsList:$("#js-councillor-list"),mobileCouncillorsMenu:$("#mapMenu")},councillorsList:$("#js-councillor-list"),init:function(){mapaq.bindUIActions(),mapaq.loadWindow(),mapaq.el.window.resize(mapaq.resizeWindow)},bindUIActions:function(){mapaq.el.mobileCouncillorsMenu.on("click",mapaq.mobileCouncillorsMenuToggle)},loadWindow:function(){mapaq.el.window.width()<=992&&mapaq.el.councillorsList.css("left",mapaq.el.councillorsMapWidth-50+"px")},resizeWindow:function(){console.log("aaadf"),mapaq.el.window.width()<=992&&mapaq.el.councillorsList.css("left",mapaq.el.councillorsMapWidth-50+"px")},mobileCouncillorsMenuToggle:function(a){a.preventDefault(),mapaq.el.councillorsList.hasClass("is-open")?mapaq.el.councillorsList.removeClass("is-open"):mapaq.el.councillorsList.addClass("is-open")}};if(mapaq.init(),!Proto)var Proto={};Proto.gmap={},Proto.Map={},Proto.Map.markerList=markers,Proto.Map.pathMarkerIcon=new google.maps.MarkerImage("http://maps.gstatic.com/mapfiles/icon_green.png"),Proto.Map.addMarkersClustering=function(a,o){Proto.gmap.gmap3({action:"addMarkers",marker:{values:a,options:{icon:o},events:{click:function(a,o,l){$(".js-scroll").scrollTo(".js-marker-"+l.data.id,200),console.log(a)},mouseover:function(){}},cluster:{radius:100,events:{mouseover:function(a){$(a.main.getDOMElement()).css("border","1px solid red")},mouseout:function(a){$(a.main.getDOMElement()).css("border","0px")}},0:{content:"<div class='cluster cluster-1'>CLUSTER_COUNT</div>",width:53,height:52},20:{content:"<div class='cluster cluster-2'>CLUSTER_COUNT</div>",width:56,height:55},50:{content:"<div class='cluster cluster-3'>CLUSTER_COUNT</div>",width:66,height:65}}},autofit:{}})},Proto.Map.getMarkersFromDatabase=function(a){var o,l,e=[];if(5>a)for(o=0;o<database.length;o++)e.push({latLng:database[o].main.pos,data:{label:database[o].main.label,count:database[o].list.length}});else for(o=0;o<database.length;o++)for(l=0;l<database[o].list.length;l++)e.push({latLng:database[o].list[l].pos,data:{label:database[o].list[l].label,count:1}});return console.log(e),e},Proto.Map.appendMarkers=function(a){$("#map").gmap3({clear:{name:"clusterer"},marker:{values:Proto.Map.getMarkersFromDatabase(a),events:{click:function(a,o,l){console.log(l)}},cluster:{radius:100,calculator:function(a){var o,l=0;for(o=0;o<a.length;o++)a[o]&&a[o].data&&a[o].data.count?l+=a[o].data.count:l++;return l},0:{content:"<div class='cluster cluster-1'>CLUSTER_COUNT</div>",width:53,height:52},20:{content:"<div class='cluster cluster-2'>CLUSTER_COUNT</div>",width:56,height:55},50:{content:"<div class='cluster cluster-3'>CLUSTER_COUNT</div>",width:66,height:65}},options:{icon:new google.maps.MarkerImage("http://maps.gstatic.com/mapfiles/icon_green.png")}}})},Proto.Map.initMarkers=function(){Proto.Map.addMarkersClustering(Proto.Map.markerList,Proto.Map.pathMarkerIcon,Proto.Map.clusters)},Proto.Map.clearThat=function(){var a=$("#target").val(),o=$("#which").val(),l={};"all"!=a&&(l.name=a),"first"==o&&(l.first=!0),"last"==o&&(l.last=!0),Proto.gmap.gmap3({clear:l})},Proto.Map.clearMarkersByTag=function(){console.log($(this).attr("id"));var a=$("#map").gmap3({get:{name:"markers",tag:$(this).attr("id")}});console.log("marker"),console.log(a)},Proto.Map.userGeoloc=function(){function a(a){console.log(a);{var o=new google.maps.LatLng(a.coords.latitude,a.coords.longitude),l={zoom:15,center:o,mapTypeControl:!1,navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL},mapTypeId:google.maps.MapTypeId.ROADMAP},e=new google.maps.Map(document.getElementById("mapcanvas"),l);new google.maps.Marker({position:o,map:e,title:"You are here! (at least within a "+a.coords.accuracy+" meter radius)"})}}function o(a){console.log(a)}navigator.geolocation?navigator.geolocation.getCurrentPosition(a,o):o("not supported")},$("#subUserZip").on("click",function(){var a=$(".js-zipValue").val();console.log(a),$("#js-council-map").gmap3({getlatlng:{address:a,callback:function(a){a?(console.log(a),$("#js-council-map").gmap3({marker:{latLng:a[0].geometry.location}}),$(this).gmap3("get").setCenter(a[0].geometry.location)):console.log("error")}}})}),Proto.Map.init=function(){Proto.gmap=$("#js-council-map").gmap3({map:{options:{center:[48.4459605,-73.7159174],zoom:4,mapTypeId:google.maps.MapTypeId.ROADMAP},events:{zoom_changed:function(){}},callback:function(){}}}),Proto.Map.initMarkers(),Proto.Map.userGeoloc(),$(".js-default").bind("click",Proto.Map.init),$(".js-clear").bind("click",Proto.Map.clearThat),$(".js-toggleCluster").bind("click",Proto.Map.toggleCluster),$(".js-tag").bind("click",Proto.Map.clearMarkersByTag)},$(document).ready(Proto.Map.init);var markers=[{data:{id:1,name:"marker-1"},latLng:[47.05964492335822,3.8635249999999814],tag:["t1","t2"]},{data:{id:2,name:"marker-2"},latLng:[51.05849086846767,4.335707167632339],tag:["t3","t4"]},{data:{id:3,name:"marker-3"},latLng:[45.05849086846767,2.335707167632339],tag:["t3"]},{data:{id:4,name:"marker-4"},latLng:[43.05849086846767,2.535707167632339],tag:["t2"]}];$(function(){$("input").on("click",function(){var a=$(this).parent().parent(),o=a.find("input:checkbox").length,l=a.find("input:checked").length,e=l/o*100,t=a.parent().find(".progress-bar");t.css("width",e+"%").attr("aria-valuenow",e),t.text(parseInt(e)+"%");var s=$("input:checkbox").length,n=$("input:checked").length,i=n/s*100;$("#progress_total .progress-bar").css("width",i+"%").attr("aria-valuenow",i),$("#progress_total .progress-bar").text(parseInt(i)+"%")}),$(".checkbox-information-button").click(function(){$(this).next().slideToggle()})});